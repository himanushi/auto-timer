# Auto Timer - クロスプラットフォーム自動タイマー

## プロジェクト概要
マウスまたはキーボードの操作を検知して自動的にタイマーを開始し、指定時間経過後に通知を行うクロスプラットフォーム（Mac/Windows）対応のデスクトップアプリケーション。

## 技術スタック
- **言語**: TypeScript/JavaScript
- **フレームワーク**: Electron (クロスプラットフォーム対応のデスクトップアプリ)
- **UI**: React + Material-UI (シンプルで使いやすいUI)
- **ビルドツール**: Electron Forge (簡単なパッケージング)
- **通知**: Electron内蔵の通知API + 音声通知

### 選定理由
- **Electron**: Mac/Windows両対応、Web技術で開発可能、豊富なエコシステム
- **React**: コンポーネントベースで保守しやすい、学習リソースが豊富
- **TypeScript**: 型安全性、開発効率の向上
- **Electron Forge**: ワンコマンドでインストーラー作成可能

## 主要機能

### 1. アクティビティ検知
- マウスの移動・クリックを検知
- キーボードの入力を検知
- いずれかの操作でタイマー開始

### 2. タイマー管理
- 設定可能な時間（分単位）
- カウントダウン表示
- 一時停止/再開機能
- リセット機能

### 3. 通知機能
- **音声通知**: カスタマイズ可能な通知音
- **視覚的通知**: 
  - システムプッシュ通知
  - アプリケーション内のポップアップ
  - タスクバー/メニューバーアイコンの変更

### 4. UI機能
- メインウィンドウ：タイマー設定・状態表示
- システムトレイ/メニューバー常駐
- ダークモード対応
- 最小化時もバックグラウンドで動作

## プロジェクト構成

```
auto-timer/
├── src/
│   ├── main/              # Electronメインプロセス
│   │   ├── index.ts        # メインプロセスエントリーポイント
│   │   ├── activity.ts     # アクティビティ検知
│   │   ├── timer.ts        # タイマーロジック
│   │   └── notification.ts # 通知処理
│   ├── renderer/           # Electronレンダラープロセス（React）
│   │   ├── App.tsx         # メインコンポーネント
│   │   ├── components/     # UIコンポーネント
│   │   │   ├── TimerDisplay.tsx
│   │   │   ├── Settings.tsx
│   │   │   └── NotificationPreview.tsx
│   │   └── styles/         # スタイルシート
│   └── shared/             # 共有型定義・ユーティリティ
├── assets/                 # アイコン、音声ファイル
├── package.json
├── tsconfig.json
├── forge.config.js         # Electron Forge設定
└── README.md
```

## 開発コマンド

```bash
# 依存関係のインストール
npm install

# 開発モードで起動
npm run dev

# アプリケーションのビルド
npm run build

# 配布用パッケージの作成（Mac/Windows）
npm run make

# テストの実行
npm test

# リンターの実行
npm run lint

# 型チェック
npm run typecheck
```

## インストール方法

### Mac
1. リリースページから `.dmg` ファイルをダウンロード
2. ダブルクリックして開く
3. アプリケーションフォルダにドラッグ＆ドロップ

### Windows
1. リリースページから `.exe` インストーラーをダウンロード
2. ダブルクリックして実行
3. インストールウィザードに従って進める

## 設定項目

### タイマー設定
- **デフォルト時間**: 25分（ポモドーロテクニック）
- **最小時間**: 1分
- **最大時間**: 120分

### 通知設定
- **通知音**: オン/オフ、音量調整、カスタム音源
- **プッシュ通知**: オン/オフ
- **画面フラッシュ**: オン/オフ

### 動作設定
- **自動開始**: アプリ起動時に監視開始
- **システム起動時に自動起動**: オン/オフ
- **非アクティブ判定時間**: 30秒（カスタマイズ可能）

## セキュリティとプライバシー

- アクティビティ検知は入力内容を記録しない
- ネットワーク通信は行わない
- すべてのデータはローカルに保存
- 設定はユーザーディレクトリに保存

## トラブルシューティング

### Mac
- 「開発元が未確認」エラー: システム環境設定 > セキュリティとプライバシー から許可
- 通知が表示されない: システム環境設定 > 通知 でアプリを許可

### Windows
- Windows Defender警告: 「詳細情報」→「実行」を選択
- 通知が表示されない: 設定 > システム > 通知とアクション でアプリを許可

## 今後の拡張予定

- [ ] 統計機能（日/週/月の作業時間集計）
- [ ] 複数タイマープロファイル
- [ ] ショートカットキー設定
- [ ] Slack/Discord連携
- [ ] モバイルアプリとの同期